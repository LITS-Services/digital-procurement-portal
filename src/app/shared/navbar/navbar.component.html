<nav class="navbar navbar-expand-lg navbar-light header-navbar {{transparentBGClass}}" [ngClass]="{'navbar-brand-center': menuPosition === 'Top', 'navbar-static': menuPosition === 'Side' &&
  config?.layout.navbar.type === 'Static' , 'navbar-sticky': menuPosition === 'Side' &&
  config?.layout.navbar.type === 'Fixed', 'fixed-top': isSmallScreen && menuPosition === 'Top'}">
  <div class="container-fluid navbar-wrapper">
    <div class="navbar-header d-flex">
      <div class="navbar-toggle menu-toggle d-xl-none d-block float-left align-items-center justify-content-center"
        data-toggle="collapse" (click)="toggleSidebar()">
        <i class="ft-menu font-medium-3"></i>
      </div>
      <ul class="navbar-nav" (clickOutside)="toggleSearchOpenClass(false)">
        <li class="nav-item mr-2 d-none d-lg-block">
          <a class="nav-link apptogglefullscreen" id="navbar-fullscreen" href="javascript:;" appToggleFullscreen
            (click)="ToggleClass()"><i class=" {{toggleClass}} font-medium-3"></i></a>
        </li>
          
      
      </ul>
      <div class="navbar-brand-center">
        <div class="navbar-header">
          <ul class="navbar-nav">
            <li class="nav-item">
     
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="navbar-container d-flex">
      <div class="collapse navbar-collapse d-block" id="navbarSupportedContent">
        <ul class="navbar-nav">
     

          <div class="search-bar-container">
            <!-- <div class="search-input-wrapper">
              <i class="ft-search search-icon"></i>
              <input type="text" class="custom-input search-input" placeholder="Search" />
            </div> -->
              <div class="icon-buttons">
                <!-- <button class="icon-btn">
                 <i class="ft-moon"></i>
                </button> -->
                        <div class="notification-wrapper" #notifRoot>
                          <button class="icon-btn notification-bell" (click)="togglePanel()" aria-haspopup="true"
                            [attr.aria-expanded]="notifOpen">
                            <i class="ft-bell"></i>
                            <span class="dot" *ngIf="unreadCount > 0">{{unreadCount}}</span>
                          </button>
                        
                          <!-- Floating Panel -->
                          <div class="notif-panel" *ngIf="notifOpen" [class.show]="notifOpen" (click)="$event.stopPropagation()">
                            <div class="panel-header">
                              <div class="panel-row">
                              <span class="title">Notifications</span>
                              <span *ngIf="notificationCount > 0" class="count-div">{{notificationCount}}</span>
                              </div>
                              <button class="icon-btn xs" (click)="closePanel()" aria-label="Close">
                                <i class="ft-x"></i>
                              </button>
                            </div>
                        
                            <div class="panel-body">
                              <ng-container *ngIf="notifications?.length; else emptyState">
                                <div class="notif-item" 
                                [ngClass]="{ 'unread-notif': n.status === 0 }"
                                *ngFor="let n of notifications">
                                  <div class="row-1">
                                    <div class="title text-ellipsis d-flex align-items-center">{{ n.title }}
                                    <span *ngIf="n.status === 0" class="dot-unread ml-1"></span>
                                    </div>
                                    <span [container]="'body'" [ngbTooltip]="n.createdOn | date: 'short'" class="time">{{ n.timeAgo }}</span>
                                  </div>
                                  <div  class="message text-ellipsis-2" *ngIf="n.message">{{ n.message }}</div>
                                </div>
                              </ng-container>
                        
                              <ng-template #emptyState>
                                <div class="empty p-2">No Notifcation: You're all caught up</div>
                              </ng-template>
                            </div>
                        
                            <!-- <div class="panel-footer">
                              <a class="view-all" [routerLink]="['/notifications']">View all</a>
                            </div> -->
                          </div>
                        </div>
              </div>
              </div>
       
          <li class="dropdown nav-item mr-1" placement="bottom-left" display="static" ngbDropdown>
            <a class="nav-link dropdown-toggle user-dropdown d-flex align-items-end" id="dropdownBasic2"
              href="javascript:;" data-toggle="dropdown" ngbDropdownToggle>
              <div class="user d-md-flex d-none mr-2">
                <span class="text-right user-text">{{username}}</span><span
                  class="text-right text-muted font-small-3">Available</span>
              </div>
              <img class="avatar" [src]="profilePicture || 'assets/img/profile/user.png'" alt="avatar" height="35"
                width="35" />
            </a>
            <div class="dropdown-menu text-left dropdown-menu-right m-0 pb-0" aria-labelledby="dropdownBasic2"
              ngbDropdownMenu>
     
              <a class="dropdown-item" routerLink="/pages/profile">
                <div class="d-flex align-items-center">
                  <i class="ft-edit mr-2"></i><span>Edit Profile</span>
                </div>
              </a>

              <div class="dropdown-divider"></div>
              <a class="dropdown-item" (click)="logout()">
                <div class="d-flex align-items-center">
                  <i class="ft-power mr-2"></i>
                  <span>Logout</span>
                </div>
              </a>

            </div>
          </li>

        </ul>
      </div>
    </div>
  </div>
</nav>