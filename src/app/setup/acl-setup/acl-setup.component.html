<section>
    <div class="row">
        <div class="col-12">

            <!-- Header -->
            <div class="row">
                <div class="col-md-12" style="margin-top: -0.25rem;">
                    <h4 class="heading">ACL Setup</h4>
                </div>
            </div>

            <!-- Action Pane -->
            <div class="card cstm-ui-card">
                <div class="row">
                    <div class="col-md-6">
                        <button class="btn btn-lg mr-1" type="button" (click)="homePage()">
                            <i class="ft-arrow-left"></i>
                        </button>
                        <span class="vl"></span>
                    </div>
                </div>
            </div>

            <!-- ROLE BUTTONS -->
            <div class="card cstm-ui-card mb-2 p-2">

                <div class="d-flex flex-wrap gap-1">
                    <button class="role-trigger mr-1" *ngFor="let r of roles" (click)="onSelectRole(r.stringId)"
                        [ngClass]="{ 'role-active': r.stringId === selectedRoleId }">
                        {{ r.description }}
                    </button>
                </div>
            </div>


            <!-- DATA TABLE -->
            <ngx-datatable autoResize class="bootstrap core-bootstrap" [rows]="aclList" [columns]="[]"
                [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50" [rowHeight]="50" [limit]="10">

                <!-- Loop dynamically generated columns: Form Name / Read / Write / Delete -->
                <ngx-datatable-column *ngFor="let col of columns" [name]="col.name" [prop]="col.prop">

                    <ng-template ngx-datatable-cell-template let-row="row">

                        <!-- TEXT COLUMN (Form Name) -->
                        <ng-container *ngIf="col.type === 'text'">
                            {{ row[col.prop] }}
                        </ng-container>

                        <!-- CHECKBOX COLUMN (Read / Write / Delete) -->
                        <ng-container *ngIf="col.type === 'checkbox'">
                            <div class="checkbox-wrapper-12">
                                <div class="cbx">
                                    <input type="checkbox" [checked]="row[col.prop]"
                                        (change)="togglePermission(row, col.prop)" />
                                    <label></label>
                                    <svg width="15" height="14" viewbox="0 0 15 14" fill="none">
                                        <path d="M2 8.36364L6.23077 12L13 2"></path>
                                    </svg>
                                </div>

                                <!-- Gooey Filter -->
                                <svg xmlns="http://www.w3.org/2000/svg" version="1.1">
                                    <defs>
                                        <filter id="goo-12">
                                            <fegaussianblur in="SourceGraphic" stdDeviation="4" result="blur">
                                            </fegaussianblur>
                                            <fecolormatrix in="blur" mode="matrix" values="1 0 0 0 0  
                                                        0 1 0 0 0  
                                                        0 0 1 0 0  
                                                        0 0 0 22 -7" result="goo-12"></fecolormatrix>
                                            <feblend in="SourceGraphic" in2="goo-12"></feblend>
                                        </filter>
                                    </defs>
                                </svg>
                            </div>
                        </ng-container>
                    </ng-template>
                </ngx-datatable-column>
            </ngx-datatable>
        </div>
    </div>
</section>