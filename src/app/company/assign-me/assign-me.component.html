<div class="modal-header">
    <h4 class="modal-title text-white">Assign to Me - {{ entity }}</h4>
    <button type="button" class="close text-white" aria-label="Close" (click)="closeDialog()">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<div class="modal-body">
    <form [formGroup]="assignMeForm" (ngSubmit)="submitForm()">
        <div class="form-row">
            <!-- Remarks -->
            <div class="col-lg-12 mb-2">
                <label>Remarks <span class="text-danger">*</span></label>
                <textarea 
                    class="form-control custom-input" 
                    formControlName="remarks" 
                    placeholder="Enter remarks..." 
                    rows="4"
                    required>
                </textarea>
                <div *ngIf="assignMeForm.get('remarks')?.invalid && assignMeForm.get('remarks')?.touched" 
                     class="text-danger small mt-1">
                    Remarks are required
                </div>
            </div>

            <!-- Error Message -->
            <div *ngIf="errorMessage" class="col-lg-12">
                <div class="alert alert-danger alert-dismissible fade show" role="alert">
                    {{ errorMessage }}
                    <button type="button" class="close" (click)="errorMessage = ''">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            </div>

            <!-- Assign to Me Button -->
            <div class="col-lg-12 mt-2">
                <button 
                    type="submit" 
                    class="btn btn-primary"
                    [disabled]="assignMeForm.invalid || loading">
                    <i class="fas fa-user-check mr-2"></i> 
                    {{ loading ? 'Assigning...' : 'Assign to Me' }}
                    <span *ngIf="loading" class="spinner-border spinner-border-sm ml-2"></span>
                </button>
            </div>
        </div>
    </form>
</div>

<div class="modal-footer">
    <button class="btn btn-secondary" (click)="closeDialog()" [disabled]="loading">Close</button>
</div>