<!-- <div class="modal-header">
   Vendor : {{vendorName}}
  <button type="button" class="close btn-sm text-white" aria-label="Close" (click)="closeDialog()">
    <i class="ft-x"></i>
  </button>
</div> -->




<div class="comments-thread datatable-wrapper" [class.loading]="loading">
  <div 
  [ngClass]="isChatBox ? 'chatbox-scroll' : 'thread-scroll'"
  id="threadScroll">
    <ng-container *ngIf="dataComments && dataComments.length > 0; else noComments">
      <ng-container *ngFor="let msg of dataComments">
        <div class="msg" [ngClass]="msg.createdByType === CreatedByType.Procurement ? 'out' : 'in'">
          <div class="bubble">
            <div class="meta">
              <span class="name">{{ msg.createdBy }}</span>
              <!-- <span class="label-chip" 
                  [ngClass]="msg.createdByType === CreatedByType.Procurement ? 'proc' : 'vendor'">
              {{ msg.createdByLabel }}
            </span> -->
              <span class="time">{{ msg.createdOn | date:'short' }}</span>
            </div>
            <div class="text">{{ msg.comments }}</div>
          </div>
        </div>
      </ng-container>
    </ng-container>

    <!-- Template for no comments -->
    <ng-template #noComments>
      <div class="no-comments">
        <p class="text-muted text-center">No comments from vendors or procurement at the moment. </p>
      </div>
    </ng-template>
  </div>

  <div *ngIf="loading" class="datatable-spinner">
    <div class="spinner-border"></div>
  </div>
</div>
<form [formGroup]="form" (ngSubmit)="insert()" class="mt-2 gap-2 d-flex align-items-center">
  <div class="col-md-10">
    <textarea id="vendorComment" class="form-control" rows="1" placeholder="Write a comment for this vendor..."
      formControlName="comment" [readonly]="viewMode"></textarea>
    <!-- <div class="text-danger mt-1" *ngIf="form.controls.comment.touched && form.controls.comment.invalid">
      Comment is required.
    </div> -->
  </div>

  <div>
    <button type="submit" class="btn btn-primary" [disabled]="form.invalid || viewMode">
      <i class="fa fa-paper-plane mr-1"></i>
      Send
    </button>
  </div>
</form>