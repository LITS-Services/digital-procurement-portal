<div class="modal-body vendor-picker">
  <div class="d-flex justify-content-end mb-3">
    <button class="btn btn-sm submit-approval-btn shadow-sm" [disabled]="viewMode" (click)="onSubmit()">
     <i class="ft-check" style="color: #1161cc;"></i><label class="ml-1">Submit Vendors</label>
    </button>
  </div>

  <div class="picker-grid">
    <!-- LEFT: ALL VENDORS -->
    <section class="panel">
      <header class="panel-header">
        <div>
          <h5 class="title">All Vendors</h5>
          <small class="muted">{{ availableVendors.length }} total</small>
        </div>
        <div class="panel-actions">
          <button class="btn btn-sm btn-outline-info" (click)="selectAll()">
            <i class="ft ft-check"></i>
            Select All</button>
        </div>
      </header>

      <div class="panel-search">
        <input class="form-control" type="text" placeholder="Search vendor or company..."
               [(ngModel)]="leftSearch" (input)="recomputeLists()" />
      </div>

      <div class="list" *ngIf="availableVendors.length; else emptyLeft">
        <div class="row-item clickable"
             *ngFor="let v of availableVendors"
             (click)="addToRight(v)">
          <div class="vh">
            <div class="vh-title">{{ v.vendorName }}</div>
            <div class="vh-sub">{{ v.companyName }}</div>
          </div>
          <button class="btn btn-xs btn-link add-btn" [disabled]="viewMode" (click)="addToRight(v); $event.stopPropagation()">
            Add<i class="ft-arrow-right ml-1"></i></button>
        </div>
      </div>
      <ng-template #emptyLeft>
        <div class="empty">All vendors are selected.</div>
      </ng-template>
    </section>

    <!-- RIGHT: SELECTED -->
    <section class="panel">
      <header class="panel-header">
        <div>
          <h5 class="title">Selected Vendors</h5>
          <small class="muted">{{ gridSelected.length }} selected</small>
        </div>
        <div class="panel-actions">
          <button [disabled]="viewMode" class="btn btn-sm btn-outline-danger" (click)="removeAll()">
             <i class="ft ft-x"></i>
            Remove All</button>
        </div>
      </header>

      <div class="panel-search">
        <input class="form-control" type="text" placeholder="Search selected..."
               [(ngModel)]="rightSearch" (input)="recomputeLists()" />
      </div>

      <div class="list" *ngIf="filteredSelected.length; else emptyRight">
        <div class="row-item"
             *ngFor="let v of filteredSelected">
          <div class="vh">
            <div class="vh-title">
              {{ v.vendorName }}
              <span *ngIf="persistedIds.has(getKey(v))" class="chip chip-saved">Saved</span>
            </div>
            <div class="vh-sub">{{ v.companyName }}</div>
          </div>
          <button class="icon-btn" [disabled]="viewMode" (click)="removeFromRight(v)" aria-label="Remove">
             <i class="ft ft-x"></i>
          </button>
        </div>
      </div>
      <ng-template #emptyRight>
        <div class="empty">No vendors selected yet.</div>
      </ng-template>
    </section>
  </div>

</div>

