<div class="modal-header">
    <h4 class="modal-title text-white">Quotation Box</h4>
    <!-- <button type="button" class="btn btn-lg" aria-label="Close" (click)="closeDialog()"><i class="ft-x"></i></button> -->
    <button type="button" class="close text-white" aria-label="Close" (click)="closeDialog()">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<div class="modal-body">
    <div *ngIf="!isCreateMode" class="datatable-view animate-slide-in">
        <div class="d-flex">
            <button class="btn btn-sm  mr-1" (click)="openCreateForm()">
                <i class="ft-eye"></i> View Quotation
            </button>
            <!-- <button class="btn btn-sm mr-1" [disabled]="isEditButtonDisabled">
          <i class="ft-edit"></i> Edit
        </button>
        <button class="btn btn-sm mr-1" [disabled]="isDeleteButtonDisabled">
          <i class="ft-trash"></i> Delete
        </button>
        <div class="flex-grow-1"></div>

        <button class="btn btn-sm ">
          <i class="ft-paperclip"></i> Attachment
        </button> -->
        </div>


        <hr>

        <ngx-datatable class="bootstrap core-bootstrap" [rows]="rfqData" [columnMode]="'standard'" [headerHeight]="50"
            [footerHeight]="50" [columns]="columns" rowHeight="50" [limit]="5" [scrollbarH]="true"
            [loadingIndicator]="loading" [selected]="chkBoxSelected" [swapColumns]="false"
            [selectionType]="SelectionType.checkbox" (sort)="onSort($event)" (select)="customChkboxOnSelect($event)">

            <ngx-datatable-column [width]="50" [sortable]="false" [canAutoResize]="false">
                <ng-template ngx-datatable-header-template>
                    <input type="checkbox" [checked]="isAllSelected" (change)="toggleSelectAll($event)" />
                </ng-template>
                <ng-template ngx-datatable-cell-template let-value="value" let-isSelected="isSelected"
                    let-onCheckboxChangeFn="onCheckboxChangeFn">
                    <input type="checkbox" [checked]="isSelected" (change)="onCheckboxChangeFn($event)" />
                </ng-template>
            </ngx-datatable-column>

            <ngx-datatable-column name="Vendor Code" prop="requisitionNo"></ngx-datatable-column>
            <ngx-datatable-column name="Supplier Name" prop="status"></ngx-datatable-column>
            <ngx-datatable-column name="Amount" prop="amount"></ngx-datatable-column>
            <ngx-datatable-column name="Delivery" prop="date"></ngx-datatable-column>
            <ngx-datatable-column name="Validity" prop="owner"></ngx-datatable-column>
            <ngx-datatable-column name="Status" prop="subject"></ngx-datatable-column>

        </ngx-datatable>
    </div>

    <div *ngIf="isCreateMode" class="create-form-view animate-slide-in">
        <form [formGroup]="newPurchaseRequestForm">
            <div class="row">
                <div class="col-md-6 form-group">
                    <label>Requisition No.</label>
                    <input type="text" formControlName="rfqNo" disabled class="form-control"
                        placeholder="PR-2025-00026">
                </div>
                <div class="col-md-6 form-group">
                    <label>RFQ No.</label>
                    <input type="text" formControlName="prNo" disabled class="form-control"
                        placeholder="RFQ-2025-00017">
                </div>

                <div class="col-md-6 form-group">
                    <label>Requisition Date</label>
                    <input type="date" formControlName="date" disabled class="form-control">
                </div>
                <div class="col-md-6 form-group">
                    <label>RFQ Date</label>
                    <input type="date" formControlName="date" disabled class="form-control">
                </div>

                <div class="col-md-6 form-group">
                    <label>Requisition Owner</label>
                    <input type="text" formControlName="date" disabled class="form-control" placeholder="Fahad">
                </div>
                <div class="col-md-6 form-group">
                    <label>RFQ Owner</label>
                    <input type="text" formControlName="date" disabled class="form-control" placeholder="115">
                </div>

                <div class="col-md-6 form-group">
                    <label>Requisition Title</label>
                    <input type="text" formControlName="date" disabled class="form-control"
                        placeholder="250 Thermal Printers Required">
                </div>

                <div class="col-md-6 form-group">
                    <label>RFQ Subject</label>
                    <input type="text" formControlName="date" disabled class="form-control"
                        placeholder="250 Thermal Printers Required">
                </div>

                <div class="col-md-12 form-group">
                    <label>Comment</label>
                    <!-- <input type="text" formControlName="date" disabled  class="form-control" placeholder="Please enter your comment/remark"> -->
                    <textarea type="text" formControlName="date" class="form-control"
                        placeholder="Please enter your comments/remarks" rows="5"></textarea>
                </div>
            </div>
        </form>

        <ngx-datatable class="bootstrap core-bootstrap" [rows]="itemsData" [columnMode]="'force'" [headerHeight]="50"
            [footerHeight]="50" [columns]="columns" rowHeight="50" [limit]="5" [scrollbarH]="true"
            [loadingIndicator]="loading" [selected]="chkBoxSelected" [swapColumns]="false"
            [selectionType]="SelectionType.checkbox" (sort)="onSort($event)" (select)="customChkboxOnSelect($event)">

            <ngx-datatable-column name="Item Code" prop="itemCode"></ngx-datatable-column>
            <ngx-datatable-column name="Delivery Date" prop="deliveryDate"></ngx-datatable-column>
            <ngx-datatable-column name="Description" prop="description"></ngx-datatable-column>
            <ngx-datatable-column name="Amount" prop="amount"></ngx-datatable-column>

        </ngx-datatable>

    </div>
</div>

<div class="modal-footer" *ngIf="isCreateMode">
    <button class="btn btn-danger" (click)="closeDialog()">Reject</button>
    <button class="btn btn-primary" (click)="closeDialog()">Revise</button>
    <span class="spacer"></span>
    <button class="btn btn-primary" (click)="closeDialog()">Submit</button>
</div>