<!-- Header removed (unchanged for you) -->

<div class="modal-body">
  <div class="row no-gutters">
    <!-- LEFT: vendors list -->
    <div class="col-md-3 pr-md-3 mb-3 mb-md-0">
      <div *ngIf="rfqData?.length" class="d-flex justify-content-between align-items-baseline mb-2">
        <div  class="small ml-1 vendor-owner mb-2">
          total: {{ rfqData.length }}
        </div>
      
        <div class="dropdown filter-dropdown" ngbDropdown>
          <button class="btn btn-sm filter-btn dropdown-toggle" ngbDropdownToggle>
            <span class="filter-label">
              {{ selectedOfferFilterLabel }}
            </span>
            <i class="ft-chevron-down"></i>
          </button>
          <div class="dropdown-menu" ngbDropdownMenu>
            <button class="dropdown-item" (click)="onOfferFilterChange('all')">All</button>
            <button class="dropdown-item" (click)="onOfferFilterChange('offers')">Offers</button>
            <button class="dropdown-item" (click)="onOfferFilterChange('nooffers')">No offers</button>
          </div>
        </div>
      </div>
      
           <div *ngIf="!selectedVendor && !rfqData?.length" class="py-4 px-2">
         No bids found for this RFQ.
      </div>


      <div class="vendor-list rounded">
        <!-- simple list, no search -->
        <button
          type="button"
          class="vendor-item"
          *ngFor="let v of rfqData; trackBy: trackVendor"
          [class.active]="selectedVendor?.vendorUserId === v.vendorUserId && selectedVendor?.companyId=== v.companyId"
          (click)="selectVendor(v)"
        >
          <div class="d-flex justify-content-between w-100">
            <div class="text-left">
              <div class="vendor-title">{{ v.vendorName }}</div>
              <div class="small vendor-owner">{{ v.companyName }}</div>
            </div>
            <div *ngIf="v.amount && v.amount > 0" class="text-right amount-text">
              {{ v.amount | number:'1.2-2' }}
            </div>
          </div>
        </button>
      </div>

   
    </div>

    <!-- RIGHT: details (form + items grid) -->
    <div class="col-md-9">
      <div *ngIf="!selectedVendor && rfqData?.length > 0" class="py-4 text-center">
        Select a vendor from the left to view their quotation.
      </div>

 

      <div *ngIf="selectedVendor" class="create-form-view card cstm-ui-card vendor-comp-card animate-slide-in">
        <!-- <form [formGroup]="newQuotationBoxForm" class="card-body">
          <div class="row">
            <div class="col-md-6 form-group">
              <label>RFQ No.</label>
              <input type="text" formControlName="rfqNo" disabled class="form-control custom-input" />
            </div>
            <div class="col-md-6 form-group">
              <label>PR No.</label>
              <input type="text" formControlName="purchaseRequestNo" disabled class="form-control custom-input" />
            </div>

            <div class="col-md-6 form-group">
              <label>RFQ Date</label>
              <input type="date" formControlName="date" disabled class="form-control custom-input" />
            </div>

            <div class="col-md-6 form-group">
              <label>RFQ Owner</label>
              <input type="text" formControlName="owner" disabled class="form-control custom-input" />
            </div>

            <div class="col-md-6 form-group">
              <label>RFQ Title</label>
              <input type="text" formControlName="title" disabled class="form-control custom-input" />
            </div>

            <div class="col-md-6 form-group">
              <label>RFQ Status</label>
              <input type="text" formControlName="requestStatus" disabled class="form-control custom-input" />
            </div>

            <div class="col-md-12 form-group">
              <label>Comment</label>
              <textarea formControlName="comment" class="form-control custom-input"></textarea>
            </div>
          </div>
        </form> -->

        <!-- items grid: unchanged -->
        <ngx-datatable
          class="bootstrap core-bootstrap"
          [rows]="itemsData"
          [columnMode]="'force'"
          [headerHeight]="50"
          [footerHeight]="50"
          [columns]="columns"
          rowHeight="auto"
          [limit]="5"
          [scrollbarH]="true"
          [loadingIndicator]="loading"
        >
          <ngx-datatable-column name="Item" prop="itemName"></ngx-datatable-column>
          <ngx-datatable-column name="Description" prop="itemDescription"></ngx-datatable-column>
          <ngx-datatable-column name="Req By Date" prop="reqByDate">
            <ng-template let-row="row" ngx-datatable-cell-template>
              {{ row.reqByDate | date:'yyyy-MM-dd' }}
            </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="Bid Price" prop="biddingAmount"></ngx-datatable-column>
          <ngx-datatable-column name="Comment" prop="comment"></ngx-datatable-column>
          <ngx-datatable-column name="Status" prop="bidRequestStatus"></ngx-datatable-column>
        </ngx-datatable>

        <div *ngIf="itemsData.length > 0" class="d-flex mt-2 gap-footer">
            <button class="btn btn-danger" (click)="rejectVendor()">Reject</button>
            <button class="btn btn-primary" (click)="reviseVendor()">Revise</button>
            <span class="spacer"></span>
            <button class="btn btn-primary">Submit</button>
        </div>

    
      </div>

    <div *ngIf="selectedVendor">
        <div class="card">
            <div class="card-body">
                 <app-selected-vendors-modal [vendorId]="selectedVendor.vendorUserId"
                [vendorCompanyId]="selectedVendor.companyId" [vendorName]="selectedVendor.vendorName"
                [quotationId]="data.quotationId" [viewMode]="viewMode"></app-selected-vendors-modal>
            </div>
           
        </div>
    
    </div>

        

    </div>
  </div>
</div>
